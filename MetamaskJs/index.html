<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <button id="connect-button" onclick="web3MetaOpen()">
      Connect Metamask
    </button>
    <script>
      function web3MetaOpen() {
        let account;
        if (window.ethereum) {
          ethereum
            .request({ method: "eth_requestAccounts" }) //connect to account
            .then((accounts) => {
              account = accounts[0];
              console.log(account);
              ethereum
                .request({
                  method: "eth_getBalance", //get balance
                  params: [account, "latest"],
                })
                .then((result) => {
                  console.log(result); //get balance in to hex
                  //convert hex to decimal
                  let wei = parseInt(result, 16);
                  let balance = wei / 10 ** 18;
                  console.log(balance + " ETH");
                });
            });
        } else {
          alert("Please install Metamask");
        }
      }
    </script>
  </body>
</html>
